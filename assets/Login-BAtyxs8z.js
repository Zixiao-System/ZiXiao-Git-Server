import{r as l,e as v,k as e,w as f,m as n,v as d,l as c,u as h,h as g}from"./vendor-wTwM5GbD.js";import{u as b}from"./index-Cw8dJ5sJ.js";import{a as i}from"./mdui-B9C5XAKh.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _={class:"auth-container"},k={class:"auth-card",variant:"elevated"},x=["disabled"],y=["disabled"],S=["loading"],V={class:"auth-footer"},$={__name:"Login",setup(B){const u=h(),p=b(),t=l({username:"",password:""}),s=l(!1);async function m(){s.value=!0;try{await p.login(t.value.username,t.value.password),i({message:"登录成功！",icon:"done",placement:"top"}),u.push("/dashboard")}catch(r){i({message:r.error||"登录失败，请检查用户名和密码",placement:"top"})}finally{s.value=!1}}return(r,a)=>(g(),v("div",_,[e("mdui-card",k,[a[5]||(a[5]=e("div",{class:"auth-header"},[e("h1",null,"登录"),e("p",null,"欢迎回到 ZiXiao Git Server")],-1)),e("form",{onSubmit:f(m,["prevent"])},[n(e("mdui-text-field",{"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.username=o),label:"用户名",placeholder:"请输入用户名",required:"",disabled:s.value},null,8,x),[[d,t.value.username]]),n(e("mdui-text-field",{"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.password=o),type:"password",label:"密码",placeholder:"请输入密码",required:"",disabled:s.value,"toggle-password":""},null,8,y),[[d,t.value.password]]),e("mdui-button",{type:"submit",variant:"filled","full-width":"",loading:s.value,style:{"margin-top":"24px"}}," 登录 ",8,S)],32),e("div",V,[e("p",null,[a[4]||(a[4]=c("还没有账号？ ",-1)),e("a",{onClick:a[2]||(a[2]=o=>r.$router.push("/register"))},"立即注册")]),e("p",null,[e("a",{onClick:a[3]||(a[3]=o=>r.$router.push("/"))},"返回首页")])])])]))}},M=w($,[["__scopeId","data-v-9169d443"]]);export{M as default};
